<!doctype html>
<html id="oldrules">
<head>
  <title>RequestPolicy - Old Rules</title>
  <!-- @if EXTENSION_TYPE='legacy' -->
  <script src="chrome://rpcontinued/content/lib/third-party/static/jquery.min.js"></script>
  <!-- @endif -->
  <!-- @if EXTENSION_TYPE!='legacy' -->
  <script src="../lib/third-party/static/jquery.min.js"></script>
  <!-- @endif -->
  <!-- @if EXTENSION_TYPE='legacy' -->
  <script src="chrome://rpcontinued/content/bootstrap-environments/settings.js"></script>
  <!-- @endif -->
  <!-- @if EXTENSION_TYPE!='legacy' -->
  <script data-main="oldrules.js" src="../lib/third-party/require.min.js"></script>
  <!-- @endif -->
  <!-- @if EXTENSION_TYPE='legacy' -->
  <link href="chrome://rpcontinued/content/settings/settings.css"
        rel="stylesheet" type="text/css"/>
  <!-- @endif -->
  <!-- @if EXTENSION_TYPE!='legacy' -->
  <link href="settings.css" rel="stylesheet" type="text/css"/>
  <!-- @endif -->
</head>
<body>
<table>
  <tr>
    <td id="sidepad"></td>
    <td id="side">
      <div id="sidecontainer">
        <div id="rpcontinued">
          RequestPolicy
          <br />&nbsp;&nbsp;Continued
        </div>
      </div>
    </td>
    <td id="contentpad"></td>
    <td id="content">
      <div id="contentcontainer" class="yourpolicy">
        <div id="pagetitle">__MSG_importOldRules__</div>

        <style>
          #description {
            margin-bottom: 1.4em;
          }
          #policy {
            margin-bottom: 1.4em;
          }
          #importoptions {
            margin-bottom: 2.4em;
          }
          #moreoptions div {
            margin-bottom: 1.4em;
          }
          #importanddelete {
            margin-bottom: 1.4em;
          }
          #showReimportOptions {
            margin-top: 20px;
          }
          #norules {
            display: none;
          }
          #deletedone {
            display: none;
            font-weight: bold;
          }
          #importdone {
            display: none;
            font-weight: bold;
          }
          #reimportOldRules {
            display: none;
            margin-bottom: 20px;
          }
        </style>

        <div id="hasrules">

          <div id="description">
            <p>Your old RequestPolicy rules were imported into the new
              version of RequestPolicy when you upgraded. The old rules are no
              longer used but the upgrade did not delete your old rules.</p>

            <p>If you believe all of your old rules have been correctly
              imported, you can delete your old rules.</p>

            <p id="deleteOldRules">
              <button type="submit" onclick="deleteOldRules()" id="deleteOldRulesButton"
                     >__MSG_deleteOldRules__</button>
            </p>

            <p id="showReimportOptions">
              <button type="submit" onclick="showReimportOptions()"
                id="showOldRuleReimportOptionsButton"
                >__MSG_showOldRuleReimportOptions__</button>
            </p>

            <div id="deletedone">
              __MSG_yourOldRulesHaveBeenDeleted__
            </div>
          </div>

          <div id="reimportOldRules">

            <div id="policy">
              <div class="policydata">
                <table id="policy-user">
                  <colgroup>
                    <col class="rule-action">
                    <col class="origin">
                    <col class="destination">
                  </colgroup>
                  <thead>
                    <tr>
                      <th>__MSG_policy__</th>
                      <th>__MSG_origin__</th>
                      <th>__MSG_destination__</th>
                    </tr>
                  </thead>
                  <tbody id="rules"></tbody>
                </table>
              </div>
            </div>

            <div id="doimport">
              <button onclick="importOldRules()" id="importOldRulesButton"
                 >__MSG_importOldRules__</button>
            </div>
            <div id="importdone">
              Done! Your old rules have been imported into
              <!-- @if EXTENSION_TYPE='legacy' -->
              <a href="about:requestpolicy?yourpolicy">your policy</a>.
              <!-- @endif -->
              <!-- @if EXTENSION_TYPE!='legacy' -->
              <a href="./yourpolicy.html">your policy</a>.
              <!-- @endif -->
            </div>

          </div>
        </div>

        <div id="norules">
          You don't have any old rules to import.
        </div>

      </div>

    </td>
  </tr>
</table>

</body>
</html>
